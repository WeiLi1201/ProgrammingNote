第七节
1.进程管理
     //ps命令列出当前所有对应当前用户的活动进程
     //一个bash程序对应多个进程
   //ps -l显示长格式进程信息//其中PID表示进程ID，PPID表示其父进程ID
     进程状态
     进程状态总体来看主要包括三种，分别是就绪状态、运行状态、等待状态
     前台进程指的是进程在执行时会将命令行阻塞，直到进程执行完毕
     后台进程指的是进程在执行时不会阻塞当前命令行，而是在系统后台执行
     //直接ping，作为前台进程执行 ping www.baidu.com
     //加&符号表示作为后台进程进行执行     ping www.baidu.com -a &

2.进程管理常用命令

ps 命令常用选项包括：
  （1）a显示所有用户的进程
  （2）u显示用户名和启动时间
  （3）x显示所有进程，包括没有控制终端的进程
  （4）e显示所有进程，包括没有控制终端的进程，较x选项，信息更为简略
  （5）l显示进程详细信息，按长格式显示

ps -au  显示所有用户进程，并给出用户名和启动时间
ps -aux 显示所有用户进程，包括没有控制终端的进程，并给出用户和和启动埋单等详细信息
ps -l 按长格式显示进程详细信息

kill 命令
kill pid，关闭进程
kill -9 pid，强制关闭进程

renice 修改进程的优先级
renice -5(级别) 12340(pid)
//子进程的权限随父进程权限改变而改变

进程的前台后台切换
ctr+c命令终止进程
ctr+z命令挂起进程
fg命令将进程转到前台执行
bg命令将进程转到后台执行

jobs命令查看任务
top命令动态显示进程信息
pstree显示进程树

计划任务的设定

at命令安排作业在某一时刻执行一次
at now+5 minutes
at> echo "hello" > /home/xtwy/hellohello.txt

crontab周期性运行作业
crontab 常用选项如下：

-l 　　显示当前的crontab
-r 　　删除当前的crontab
-e 　　使用编辑器编辑当前crontab文件

采用crontab -e 命令进入计划任务编辑状态，时间及脚本设置格式如下：
分钟    小时  天    月    星期  命令/脚本

例如在每周五下午6点关机，其命令设置如下：
分钟  小时    天  月    星期    命令/脚本
00    18      *    *    5    /usr/bin/shudown -h now

操作方法:
//显示当前的计划任务
xtwy@ubuntu:~$ crontab -l
no crontab for xtwy

//进入计划任务编辑状态
xtwy@ubuntu:~$ crontab -e
no crontab for xtwy - using an empty one

Select an editor.  To change later, run 'select-editor'.
  1. /bin/ed
  2. /bin/nano        <---- easiest
  3. /usr/bin/vim.basic
  4. /usr/bin/vim.tiny

Choose 1-4 [2]: 3
crontab: installing new crontab

//设置完成后再进行计划任务的查看
xtwy@ubuntu:~$ crontab -l
# m h  dom mon dow  command
30 9 * * 1-5 echo "test crontab" >> test.txt

通过下面方式进行查看计划：
xtwy@ubuntu:~$ cd /var/spool/cron
xtwy@ubuntu:/var/spool/cron$ ls
atjobs  atspool  crontabs
//crontabs目录只有root用户才能查看
xtwy@ubuntu:/var/spool/cron$ cd crontabs/
bash: cd: crontabs/: Permission denied
xtwy@ubuntu:/var/spool/cron$ su root
Password:
root@ubuntu:/var/spool/cron# cd crontabs/
root@ubuntu:/var/spool/cron/crontabs# ls
xtwy
root@ubuntu:/var/spool/cron/crontabs# ls -l
total 4
-rw------- 1 xtwy crontab 275 2015-09-01 17:45 xtwy
root@ubuntu:/var/spool/cron/crontabs# cat xtwy
# DO NOT EDIT THIS FILE - edit the master and reinstall.
# (/tmp/crontab.qUgCZF/crontab installed on Tue Sep  1 17:45:15 2015)
# (Cron version -- $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp $)
# m h  dom mon dow  command
30 9 * * 1-5 echo "test crontab" >> test.txt